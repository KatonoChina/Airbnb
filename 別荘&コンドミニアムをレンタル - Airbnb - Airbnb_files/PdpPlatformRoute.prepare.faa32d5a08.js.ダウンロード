__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={document:void 0,getDocument:()=>r(d[1])(d[0],"./PdpEarlyFlushMetadataQueryV2-document.niobe").then(babelHelpers.interopRequireWildcard).then(t=>t.default),name:'PdpEarlyFlushMetadataQueryV2',type:'query',operationId:'500d7049641722ac4b7942133db1868ba1e3df01fa8dc24fc019d1e62b5e3d69'};e.default=t}),"125933",["5c863a","b8ad06"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=babelHelpers.interopRequireDefault(r(d[0])),n=r(d[1]),o=r(d[2]),l=r(d[3]),s=babelHelpers.interopRequireDefault(r(d[4]));var u=({isPrefetch:u,location:p,match:c,niobeMinimalistClient:b,previousLocation:f,previousPrepareProps:h,customPrepareNiobeData:v,hostname:y})=>{const{id:P}=c.params,q=p.pathname.split(P)[0]===(null==f?void 0:f.pathname.split(P)[0]);if(h&&q)return h;const L=u?{headers:{'X-Airbnb-Prefetch':'web'}}:void 0,R=Boolean(v.launchPdpUncaching),D=(0,l.shouldUseLeanFragment)({location:p,hostname:y});return{queryRef:b.preloadQuery({context:L,query:t.default,variables:(0,n.getRequestVariables)({location:p,match:c,useLeanFragment:D}),deferrable:R}),skeletonQueryRef:b.preloadQuery({query:s.default,variables:{id:(0,o.createGlobalId)('StayListing',c.params.id)},skip:!R}),showDeferredSkeleton:R,useLeanFragment:D}};e.default=u}),"13d687",["263d9b","b33b52","685055","3344ba","125933"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={document:void 0,getDocument:()=>r(d[1])(d[0],"./StaysPdpSections-document.niobe").then(babelHelpers.interopRequireWildcard).then(t=>t.default),name:'StaysPdpSections',type:'query',operationId:'bb591a24911b2bdf0cb698407956c42e1d6308e441959b9826bf8e87bc9f7379'};e.default=t}),"263d9b",["d1d879","b8ad06"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){const{display_extensions:n}=(0,t.default)(l.search);if(null==n||!Array.isArray(n))return null;return n.map(t=>'MONTHLY_STAYS'===t.toUpperCase()?'MONTHLY_STAYS':'LR_REDIRECT'===t.toUpperCase()?'LR_REDIRECT':'DATED_LTS'===t.toUpperCase()?'DATED_LTS':null)};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"2954b7",["99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDP_TYPE=void 0,e.getPdpTypeFromMatch=function(u){const{path:n}=u;if(null!=n&&n.startsWith('/rooms/plus'))return t.PLUS;if(null!=n&&n.startsWith('/luxury/listing'))return t.LUXURY;if(null!=n&&n.startsWith('/hotels'))return t.HOTELS;if(null!=n&&n.startsWith('/rooms'))return t.MARKETPLACE;return t.UNKNOWN};const t={PLUS:'plus',LUXURY:'luxury',HOTELS:'hotels',MARKETPLACE:'marketplace',UNKNOWN:'unknown'};e.PDP_TYPE=t}),"2ca701",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseLeanFragment=function({location:t,hostname:o}){const s='true'===(0,n.default)(t.search).lean;if(['localhost.airbnb.com','next.airbnb.com','staging.airbnb.com'].some(n=>o.endsWith(n))&&s)return!0;return!1};var n=babelHelpers.interopRequireDefault(r(d[0]))}),"3344ba",["99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({params:l,pathname:o=window.location.pathname,search:u=window.location.search}){if(!l||0===Object.keys(l).length)return o+u;const s={...(0,n.default)(u),...l},c=t.default.stringify(s,{arrayFormat:'brackets'});return c.length>0?`${o}?${c}`:o};var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1]))}),"3732e6",["d2b390","99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){return(function(u){const{pdp_type_override:c,tier_override:n}=(0,t.default)(u);if(n&&'0'===n)return'MARKETPLACE';if(n&&'1'===n)return'PLUS';switch(c){case'HOTEL':case'hotel':return'HOTEL';case'LUXE':case'luxe':return'LUXE';case'MARKETPLACE':case'marketplace':return'MARKETPLACE';case'PLUS':case'plus':return'PLUS';default:return}})(u.search)};var t=babelHelpers.interopRequireDefault(r(d[0]))}),"664416",["99e500"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createGlobalId=function(n,t){return(function(n){return window.btoa(n)})((function(n,t){return`${n}:${encodeURIComponent(t).replaceAll('%20','+')}`})(n,t))},e.getInternalId=function(n){const{internalId:t}=(function(n){const t=n.split(':'),[o,l]=t,c=l&&decodeURIComponent(l.replaceAll('+','%20'));if(void 0===o||void 0===c)throw new Error('Failed to decode global ID');return{typename:o,internalId:c}})((o=n,window.atob(o)));var o;return t},e.parseGlobalId=function(n){return n},e.stringifyGlobalId=function(n){return n}}),"685055",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){return Object.entries(t).reduce((t,[n,c])=>(u(c,n)&&(t[n]=c),t),{})}}),"72751c",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({id:t,queryParams:o}){const{confirmation_code:s,split_stays_uuid:n}=o;return{splitStaysId:n,stays:[{productId:t,confirmationCode:s}]}}}),"896ce9",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslateUgcParam=function(t){return(function(t){const{translate_ugc:n}=(0,l.default)(t);return n?'true'===n:null})(t.search)},e.setTranslateUgcParam=function(s){if(!g.window)return;if('function'!=typeof g.window.history.replaceState)return;if('UNDEFINED'===s)return;const c=(0,l.default)(),f='UNTRANSLATED'===s,p=(0,n.default)({...c,translate_ugc:String(f)},t.default),{hash:b,pathname:h,search:D}=window.location,w=(0,o.default)({params:p,pathname:h,search:D})+b;(0,u.getHistory)().replace(w)};var t=babelHelpers.interopRequireDefault(r(d[0])),n=babelHelpers.interopRequireDefault(r(d[1])),u=r(d[2]),l=babelHelpers.interopRequireDefault(r(d[3])),o=babelHelpers.interopRequireDefault(r(d[4]))}),"974ac4",["c2e91d","72751c","da368f","99e500","3732e6"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRequestVariables=function({forSplitStays:p=!1,location:_,match:y,useLeanFragment:I=!1}){const b=(0,l.createGlobalId)('StayListing',y.params.id),f=(0,c.getPdpTypeFromMatch)(y),h=(0,t.default)(_.search),{adults:S,bypass_targetings:k,cancellation_policy_id:P,category_tag:T,cause_id:v,check_in:D,check_out:E,children:N,disaster_id:R,discountedGuestFeeVersion:q=null,federatedSearchId:L=null,federated_search_id:O=null,force_boost_unc_priority_message_type:H,guests:M,infants:U,interactionType:B=null,mockId:w,omni_page_id:A,omni_version_id:C,original_check_in:F,original_check_out:G,pets:V,preview:x,priceDropSource:W,private_booking:Y,promotionUuid:j,rate_plan_id:z,relaxed_amenity_ids:J,searchId:K=null,staysBookingMigrationEnabled:Q=null,useNewSectionWrapperApi:X=null}=h,Z={adults:S||M||'1',bypassTargetings:'true'===k,categoryTag:T||null,causeId:v||null,children:N||null,disasterId:R||null,discountedGuestFeeVersion:Number(q)||null,displayExtensions:(0,u.default)(_),federatedSearchId:L||O,forceBoostPriorityMessageType:H||null,infants:U||null,interactionType:B,layouts:['SIDEBAR','SINGLE_COLUMN'],omniPageId:A,omniVersionId:C,pets:Number(V)||0,pdpTypeOverride:(0,s.default)(_)||null,preview:'true'===x,previousStateCheckIn:F||null,previousStateCheckOut:G||null,priceDropSource:W||null,privateBooking:'true'===Y,promotionUuid:j||null,relaxedAmenityIds:J||null,searchId:K,selectedCancellationPolicyId:Number(P)||null,selectedRatePlanId:Number(z)||null,splitStays:p?(0,o.default)({id:b,queryParams:h}):null,staysBookingMigrationEnabled:'true'===Q,translateUgc:(0,n.getTranslateUgcParam)(_),useNewSectionWrapperApi:'true'===X,sectionIds:null,checkIn:null,checkOut:null,p3ImpressionId:void 0};D&&E&&(Z.checkIn=D,Z.checkOut=E);return{id:b,pdpSectionsRequest:Z,isLeanTreatment:I,isHotel:f===c.PDP_TYPE.HOTELS,isPlus:f===c.PDP_TYPE.PLUS,...w&&{mockIdentifier:w}}};var t=babelHelpers.interopRequireDefault(r(d[0])),l=r(d[1]),n=r(d[2]),s=babelHelpers.interopRequireDefault(r(d[3])),u=babelHelpers.interopRequireDefault(r(d[4])),o=babelHelpers.interopRequireDefault(r(d[5])),c=r(d[6])}),"b33b52",["99e500","685055","974ac4","664416","2954b7","896ce9","2ca701"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/gp-stays-pdp-route/routes/PdpPlatformRoute.prepare.b19b168d36.js.map